#!/bin/sh
. "$(dirname -- "$0")/_/husky.sh"
npx lint-staged

# Check web build
cd apps/web && npm run build
if [ $? -ne 0 ]; then
  echo "Web build failed! Commit aborted."
  exit 1
fi

# Check mobile build
echo "Checking mobile type check..."
cd ../mobile && npm run type-check
if [ $? -ne 0 ]; then
  echo "‚ùå Mobile type check failed! Commit aborted."
  exit 1
fi

echo "All checks passed! Proceeding with commit..."